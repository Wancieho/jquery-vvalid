/*
 * Project: vValid
 * Description: A jQuery form validation plugin with customisation features
 * Author: https://github.com/Wancieho
 * License: MIT
 * Version: 0.0.3
 * Dependancies: jquery-1.*
 * Date: 05/10/2015
 */
!function(e,t,i,s){"use strict";function a(t){var i=this;this.settings=n,this.elements=t,this.valid=!0,e.each(this.elements,function(e,t){i.validate(t)||(i.valid=!1)})}function r(e,t){for(var i=!0,s=0;s<e.length;s++)if(t.indexOf(e.charAt(s))===-1){i=!1;break}return i}var n={messages:{required:"This field cannot be empty",alphaNumeric:"This field requires an alphanumeric value",alphaNumericSpecial:"This field must include at least 1 number, 1 letter and 1 special character",numeric:"This field requires a numeric value",decimal:"This field requires a numeric decimal value",min:"This field has a minimum length of ",max:"This field has a maximum length of ",exact:"This field must be the exact length of ",email:"A valid email address is required",phoneNumber:"A valid phone number is required",idNumber:"A valid ID number is required",match:"This field value must match the value of ",date:"A valid date format is expected (YYYY-MM-DD)",datetime:"A valid date format is expected (YYYY-MM-DD HH:MM:SS)"},customMethods:{},regex:{date:/^\d{4}-(1[0-2]|0[1-9])-(3[01]|[1,2][0-9]|0\d)$/,datetime:/^\d{4}-(1[0-2]|0[1-9])-(3[01]|[1,2][0-9]|0\d)\s[0-2]?[0-9]:[0-5][0-9]:[0-5][0-9]$/},displayStyling:!0,displayText:!0};e.extend(a.prototype,{validate:function(t){if(e(t).attr("data-vvalid")&&"disabled"!==e(t).attr("disabled")){var i=Array(),a=e(t).attr("data-vvalid").split("|"),r=Array();for(var n in a){var d=a[n].split(":"),l=d[0],u="";if(r.push(l),d.length>1&&(u=d[1]),this[l]!==s||this.settings.customMethods[l]!==s){var h=e(t)[0].value!==s?e(t).clone().children().remove().end().val():e(t).clone().children().remove().end().text();if(this[l]!==s)var m=this[l](h,u);else if(this.settings.customMethods[l]!==s)var m=this.settings.customMethods[l](h,u);""!==m&&m!==s&&i.push({type:l,text:m})}}if(this.errorsGenerate(t,i),i.length>0)return!1}return!0},errorsGenerate:function(t,i){var s=e(t).siblings(".errors").find("div").length;if(e(t).removeClass("error").siblings(".errors").remove(),i.length>0&&(this.settings.displayStyling&&e(t).addClass("vValid error"),this.settings.displayText||"true"===e(t).attr("data-vvalid-error-text"))){e(t).parent().append('<div class="errors">');for(var a in i)e(t).siblings(".errors").append('<div class="text-error">'+i[a].text+"</div>")}0===s&&e(t).siblings(".errors").hide(),s<i.length&&e(t).siblings(".errors").slideDown(100)},required:function(e){if(0===e.length)return this.settings.messages.required},alphaNumeric:function(e){if(!/(?=.*\d)(?=.*[a-zA-Z]).*$/.test(e))return this.settings.messages.alphaNumeric},alphaNumericSpecial:function(e){if(!/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\[\]<>\\/|{}\-\?\=,])[A-Za-z\d!@#$%^&*()_+]/.test(e))return this.settings.messages.alphaNumericSpecial},numeric:function(e){if(!/^[0-9]*$/.test(e)||""===e)return this.settings.messages.numeric},decimal:function(e){if(!/^\d*\.?\d*$/.test(e)||""===e)return this.settings.messages.decimal},min:function(e,t){if(e.length<parseInt(t))return this.settings.messages.min+t},max:function(e,t){if(e.length>parseInt(t))return this.settings.messages.max+t},exact:function(e,t){if(e.length!==parseInt(t))return this.settings.messages.exact+t},idNumber:function(e){if(e.length<13||e.length>13)return this.settings.messages.idNumber},match:function(t,i){if(t!==e('input[name="'+i+'"]').val())return this.settings.messages.match+i},date:function(e){if(!this.settings.regex.date.test(e))return this.settings.messages.date},datetime:function(e){var t=new Date(e);if(!this.settings.regex.datetime.test(e)||!t instanceof Date)return this.settings.messages.datetime},email:function(e){if(!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return this.settings.messages.email},phoneNumber:function(e){if((e.match(/\+/g)||[]).length>1||e.indexOf("+")>0||e.length<10||e.length>14||!r(e,"+0123456789"))return this.settings.messages.phoneNumber}}),e.vValid=function(e){return new a(e).valid}}(jQuery,window,document);