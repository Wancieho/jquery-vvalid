/*
 * Project: vValid
 * Description: A jQuery form validation plugin with customisation features
 * Author: https://github.com/Wancieho
 * License: MIT
 * Version: 0.0.5
 * Dependancies: jquery-1.*
 * Date: 05/10/2015
 */
!function(e,t,i,s){"use strict";function a(e,t){if(this.settings=r,this.valid=!0,e!==s&&null!==e){for(var i in r)if("object"!=typeof r[i])e[i]!==s&&(this.settings[i]=e[i]);else if(r[i]!==s)for(var a in r[i])e[i]!==s&&e[i][a]!==s&&(this.settings[i][a]=e[i][a]);for(var i in e)if("object"==typeof e[i])for(var a in e[i])this.settings[i][a]===s&&(this.settings[i][a]=e[i][a])}t===s||null===t?this.isAForm():this.isNotAForm(t)}function n(e,t){for(var i=!0,s=0;s<e.length;s++)if(t.indexOf(e.charAt(s))===-1){i=!1;break}return i}var r={messages:{required:"This field cannot be empty",alphaNumeric:"This field requires an alphanumeric value",alphaNumericSpecial:"This field must include at least 1 number, 1 letter and 1 special character",numeric:"This field requires a numeric value",decimal:"This field requires a numeric decimal value",min:"This field has a minimum length of ",max:"This field has a maximum length of ",exact:"This field must be the exact length of ",email:"A valid email address is required",phoneNumber:"A valid phone number is required",idNumber:"A valid ID number is required",match:"This field value must match the value of ",date:"A valid date format is expected (YYYY-MM-DD)",datetime:"A valid date format is expected (YYYY-MM-DD HH:MM:SS)"},customMethods:{},regex:{date:/^\d{4}-(1[0-2]|0[1-9])-(3[01]|[1,2][0-9]|0\d)$/,datetime:/^\d{4}-(1[0-2]|0[1-9])-(3[01]|[1,2][0-9]|0\d)\s[0-2]?[0-9]:[0-5][0-9]:[0-5][0-9]$/},displayStyling:!0,displayText:!0};e.extend(a.prototype,{isAForm:function(){var t=this,i=e("*[data-vvalid]").eq(0).closest("form");e.each(i.find("*[data-vvalid]"),function(i,s){if(e(s).on("blur",function(){setTimeout(function(){t.validate(s)},200)}),e(s).on("keyup, change",function(){setTimeout(function(){t.validate(s)},200)}),""!==e(s).val()&&t.validate(s),"function"==typeof MutationObserver){var a=new MutationObserver(function(){t.validate(s)}.bind(this));a.observe(e(s).get(0),{characterData:!0,childList:!0})}}),i.on("submit",function(s){var a=!0;e.each(i.find("*[data-vvalid]"),function(e,i){t.validate(i)||(a=!1)}),i.trigger("submitting"),a?(this.submit(),i.trigger("submitted")):(s.preventDefault(),i.trigger("invalid"))})},isNotAForm:function(t){var i=this;this.valid=!0,e.each(t,function(){this instanceof jQuery?i.validate(this)||(i.valid=!1):i.validate(e(this))||(i.valid=!1),function(t){e(t).on("blur",function(){i.validate(t)})}(this)})},validate:function(t){if(e(t).attr("data-vvalid")&&"disabled"!==e(t).attr("disabled")){var i=Array(),a=e(t).attr("data-vvalid").split("|"),n=Array();for(var r in a){var d=a[r].split(":"),l=d[0],u="";if(n.push(l),d.length>1&&(u=d[1]),this[l]!==s||this.settings.customMethods[l]!==s){var h=e(t)[0].value!==s?e(t).clone().children().remove().end().val():e(t).clone().children().remove().end().text();if(this[l]!==s)var o=this[l](h,u);else if(this.settings.customMethods[l]!==s)var o=this.settings.customMethods[l](h,u);""!==o&&o!==s&&i.push({type:l,text:o})}}if(this.errorsGenerate(t,i),i.length>0)return!1}return!0},errorsGenerate:function(t,i){var s=e(t).siblings(".errors").find("div").length;if(e(t).removeClass("error").siblings(".errors").remove(),i.length>0&&(this.settings.displayStyling&&e(t).addClass("vValid error"),this.settings.displayText||"true"===e(t).attr("data-vvalid-error-text"))){e(t).parent().append('<div class="errors">');for(var a in i)e(t).siblings(".errors").append('<div class="text-error">'+i[a].text+"</div>")}0===s&&e(t).siblings(".errors").hide(),s<i.length&&e(t).siblings(".errors").show()},required:function(e){if(0===e.length)return this.settings.messages.required},alphaNumeric:function(e){if(!/(?=.*\d)(?=.*[a-zA-Z]).*$/.test(e))return this.settings.messages.alphaNumeric},alphaNumericSpecial:function(e){if(!/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\[\]<>\\/|{}\-\?\=,])[A-Za-z\d!@#$%^&*()_+]/.test(e))return this.settings.messages.alphaNumericSpecial},numeric:function(e){if(!/^[0-9]*$/.test(e)||""===e)return this.settings.messages.numeric},decimal:function(e){if(!/^\d*\.?\d*$/.test(e)||""===e)return this.settings.messages.decimal},min:function(e,t){if(e.length<parseInt(t))return this.settings.messages.min+t},max:function(e,t){if(e.length>parseInt(t))return this.settings.messages.max+t},exact:function(e,t){if(e.length!==parseInt(t))return this.settings.messages.exact+t},idNumber:function(e){if(e.length<13||e.length>13)return this.settings.messages.idNumber},match:function(t,i){if(t!==e('input[name="'+i+'"]').val())return this.settings.messages.match+i},date:function(e){if(!this.settings.regex.date.test(e))return this.settings.messages.date},datetime:function(e){var t=new Date(e);if(!this.settings.regex.datetime.test(e)||!t instanceof Date)return this.settings.messages.datetime},email:function(e){if(!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e))return this.settings.messages.email},phoneNumber:function(e){if((e.match(/\+/g)||[]).length>1||e.indexOf("+")>0||e.length<10||e.length>14||!n(e,"+0123456789"))return this.settings.messages.phoneNumber}}),e.vValid=function(e,t){return t!==s&&null!==t?new a(e,t).valid:void(this.validate===s&&(this.validate=new a(e,t)))},e.extend(e.vValid,{destroy:function(){delete this.validate}})}(jQuery,window,document);